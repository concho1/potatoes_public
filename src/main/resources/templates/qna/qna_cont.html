<!-- 이 코드를 복붙해서 사용해주세요 -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<!-- top-header 추가 방법 -->
<head th:replace="~{common/header-top :: header-top-fragment}">
    <title>감자팀</title>
</head>

<body>
<!-- header 추가 방법 -->
<header th:replace="~{common/header :: header-fragment}"></header>
<!-- sidebar 추가 방법 -->
<aside th:replace="~{common/sidebar :: sidebar-fragment}"></aside>

<!-- 템플릿 html 파일에서 main 부분 가져와서 수정해주세요!-->
<main id="main" class="main">

    <div class="pagetitle">
        <h1>Q&A 게시판</h1>
    </div><!-- End Page Title -->

    <section class="section contact">
        <div class="col-xl">

            <div class="card p-4">

                <div class="row gy-4" th:if="${cont.qnaStatus == 0}">

                    <div class="col-md-12">
                        <span class="text-start">제목</span>
                        <span class="form-control" name="title">[[${cont.title}]]</span>
                    </div>

                    <div class="col-md-12">
                        <span class="text-start">작성일</span>
                        <span class="form-control" name="qnaDate">[[${cont.qnaDate.toString().substring(0, 10)}]]</span>
                    </div>

                    <div class="col-md-12">
                        <span class="text-start">상태</span>
                        <span class="form-control" name="qnaStatus">답변 대기</span>
                    </div>

                    <div class="col-md-12">
                        <span class="text-start">내용</span>
                        <textarea class="form-control" name="cont" rows="6"
                                  style="resize: none;" readonly>[[${cont.cont}]]</textarea>
                    </div>

                </div>

                <div class="row gy-4" th:if="${cont.qnaStatus == 1}">

                    <div class="col-md-12">
                        <span class="text-start">제목</span>
                        <span class="form-control" name="title">[[${cont.title}]]</span>
                    </div>

                    <div class="col-md-12">
                        <span class="text-start">작성일</span>
                        <span class="form-control" name="qnaDate">[[${cont.qnaDate.toString().substring(0, 10)}]]</span>
                    </div>

                    <div class="col-md-12">
                        <span class="text-start">상태</span>
                        <span class="form-control" name="qnaStatus">답변 완료</span>
                    </div>

                    <div class="col-md-12">
                        <span class="text-start">내용</span>
                        <textarea class="form-control" name="cont" rows="6"
                                  style="resize: none;" readonly>[[${cont.cont}]]</textarea>
                    </div>
                    <br>
                    <hr>
                    <br>
                    <div class="col-md-12">
                        <span class="text-start">답변</span>
                        <textarea class="form-control" name="cont" rows="6"
                                  style="resize: none;" readonly>     [[${rel.cont}]]</textarea>
                    </div>

                </div>

                <div class="row gy-4" th:if="${cont.qnaStatus == 2}">

                    <div class="col-md-12">
                        <span class="text-start">제목</span>
                        <span class="form-control" name="title">[[${rel.title}]]</span>
                    </div>

                    <div class="col-md-12">
                        <span class="text-start">작성일</span>
                        <span class="form-control" name="qnaDate">[[${rel.qnaDate.toString().substring(0, 10)}]]</span>
                    </div>

                    <div class="col-md-12">
                        <span class="text-start">상태</span>
                        <span class="form-control" name="qnaStatus">답변 완료</span>
                    </div>

                    <div class="col-md-12">
                        <span class="text-start">내용</span>
                        <textarea class="form-control" name="cont" rows="6"
                                  style="resize: none;" readonly>[[${rel.cont}]]</textarea>
                    </div>
                    <br>
                    <hr>
                    <br>
                    <div class="col-md-12">
                        <span class="text-start">답변</span>
                        <textarea class="form-control" name="cont" rows="6"
                                  style="resize: none;" readonly>     [[${cont.cont}]]</textarea>
                    </div>

                </div>

                <br>

                <div th:align="center">
                    <input th:if="cont.qnaStatus == 0" type="button" id="btn_mod" class="btn btn-dark" value="수정하기" th:onclick="|location.href='modify?no=${cont.num}&page=${page}'|">&nbsp;&nbsp;&nbsp;
                    <input th:if="${rank.equals('manager') && cont.qnaStatus == 0}" type="button" id="btn_answer" class="btn btn-dark" value="답변하기"
                           th:onclick="|location.href='@{../manager/answer_qna(no=${cont.num}, page=${page})}'|" th:text="'&nbsp;&nbsp;&nbsp;'">
                    <input type="button" class="btn btn-dark" value="QNA 목록" th:onclick="|location.href='@{list(page=${page})}'|">&nbsp;&nbsp;&nbsp;
                    <input type="button" id="btn_del" class="btn btn-dark" value="삭제하기" th:onclick="|if(confirm('정말로 삭제하시겠습니까?')) {
                                                                                                location.href='delete?no=${cont.num}&page=${page}'
                                                                                           }else {return; }|">
                </div>

            </div>

        </div>
    </section>

</main><!-- End #main -->
<!-- -->

<!-- footer 추가 방법 -->
<footer th:replace="~{common/footer :: footer-fragment}"></footer>

</body>

</html>